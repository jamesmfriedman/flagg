{"version":3,"sources":["../../src/store/utils.ts","../../src/store/in-memory-store.ts","../../src/store/session-store.ts","../../src/store/index.tsx","demo/home.module.css","../../src/core/index.ts","../../src/index.ts","app.module.css","../../src/react/context.tsx","../../src/react/admin-styles.tsx","../../src/react/admin.tsx","../../src/react/hooks.tsx","feature-flags.tsx","demo/home.tsx","demo/home-new.tsx","demo/demo.tsx","app.tsx","serviceWorker.ts","index.tsx","../../src/react/provider.tsx","demo/demo.module.css"],"names":["getKey","key","KEY_PREFIX","safeParseJSON","value","JSON","parse","err","mapFromStoredValuesWithPrefix","stored","getter","Object","entries","reduce","acc","startsWith","hasPrefix","flagName","slice","length","removePrefix","inMemoryStore","store","name","get","set","remove","all","sessionStore","window","sessionStorage","getItem","setItem","stringify","removeItem","module","exports","makeArray","val","Array","isArray","makeStoreMap","_store","storeArr","getFlagDefaultValue","flagDef","undefined","default","getResolvedFlagValue","frozen","definitions","storeMap","getFlagDef","defaultValue","resolveFlagStore","getFlagValue","setFlagValue","console","warn","storeName","flagg","hydrateFrom","state","hydrateFromStores","hydrate","forEach","hydrateStore","a","values","String","getDefault","flagNameOrFlags","isOverridden","options","getFlagType","freeze","setDefinitions","getDefinitions","getAllResolved","keys","getAllOverridden","freezeAll","isFrozen","FlaggContext","React","createContext","featureFlags","iteration","FlaggAdmin","onDone","useState","searchTerm","setSearchTerm","ff","useContext","getSortedDefinitions","toLowerCase","trim","shareUrl","location","href","encodeURIComponent","className","styles","Icon","icon","onClick","navigator","clipboard","writeText","onChange","evt","currentTarget","type","placeholder","map","categoryName","definition","Flag","Footer","iconPaths","flag","search","refresh","checkCircle","link","snowflake","props","path","width","height","viewBox","fill","d","control","controlType","getControlType","isOverride","Select","Input","Toggle","checked","filter","Boolean","join","stopPropagation","description","title","option","defsMap","parts","split","category","pop","includes","push","sort","b","useFeatureFlag","ffUseFeatureFlag","Home","cards","enableOptIn","setHomeV2","banner","index","HomeCard","homeCard","sixteenByNine","style","backgroundImage","padding","use","tag","theme","marginTop","onIcon","HomeNew","Demo","route","setRoute","navOpen","setNavOpen","isDarkMode","brandColor","isBottomNav","homeV2","enableFlagg","content","view","callout","appWrapper","classNames","app","darkMode","bottomNavHeader","bottomNav","stacked","label","navigationIcon","appBar","AppDrawer","open","setOpen","modal","onClose","App","hostname","match","ReactDOM","render","children","setIteration","useEffect","originalSet","rVal","Provider","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.db22c0cc.chunk.js","sourcesContent":["import { FlagValue } from '../core';\n\nexport const KEY_PREFIX = 'ff';\n\nexport const getKey = (key: string) => KEY_PREFIX + '.' + key;\n\nexport const safeParseJSON = (value: any): FlagValue => {\n  try {\n    return JSON.parse(value);\n  } catch (err) {}\n  return value;\n};\n\nconst hasPrefix = (key: string) => key.startsWith(KEY_PREFIX + '.');\n\nconst removePrefix = (key: string) => key.slice(KEY_PREFIX.length + 1);\n\nexport const mapFromStoredValuesWithPrefix = (\n  stored: {\n    [key: string]: FlagValue;\n  },\n  getter: (flagName: string) => FlagValue\n) => {\n  return Object.entries(stored).reduce<{ [key: string]: FlagValue }>(\n    (acc, [key, value]) => {\n      if (hasPrefix(key)) {\n        const flagName = removePrefix(key);\n        acc[flagName] = getter(flagName);\n      }\n      return acc;\n    },\n    {}\n  );\n};\n","import { FlaggStore, FlagValue } from '../core';\nimport { getKey } from './utils';\n\nexport const inMemoryStore = (): FlaggStore => {\n  const store: { [key: string]: FlagValue } = {};\n\n  return {\n    name: 'inMemoryStore',\n    get: (flagName: string): FlagValue => store[flagName] || null,\n    set: (flagName, value) => {\n      store[flagName] = value;\n    },\n    remove: flagName => delete store[getKey(flagName)],\n    all: () => store\n  };\n};\n","import { FlaggStore, FlagValue } from '../core';\nimport { getKey, safeParseJSON, mapFromStoredValuesWithPrefix } from './utils';\n\nexport const sessionStore = (): FlaggStore => {\n  const get = (flagName: string): FlagValue =>\n    safeParseJSON(window.sessionStorage.getItem(getKey(flagName)));\n\n  return {\n    name: 'sessionStore',\n    get,\n    set: (flagName, value) =>\n      window.sessionStorage.setItem(getKey(flagName), JSON.stringify(value)),\n    remove: flagName => window.sessionStorage.removeItem(getKey(flagName)),\n    all: () => mapFromStoredValuesWithPrefix(window.sessionStorage, get)\n  };\n};\n","export * from './env-store';\nexport * from './in-memory-store';\nexport * from './local-store';\nexport * from './session-store';\nexport * from './url-store';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeCard\":\"home_homeCard__2nPym\",\"banner\":\"home_banner__1loZD\"};","import {\n  FlaggOpts,\n  FlaggStore,\n  FlagDefinition,\n  FlagDefinitions,\n  FlagValue,\n  FlaggReadOnlyStore,\n  FlaggStoreInput\n} from './defs';\nimport { inMemoryStore } from '../store';\n\nexport * from './defs';\n\ntype ReadOrWriteStore = FlaggStore | FlaggReadOnlyStore;\n\nconst DEFAULT_STORE_NAME = '__default';\nconst FROZEN_STORE_NAME = '__frozen';\n\n/** Ensures a value is an array */\nconst makeArray = <T>(val: T) =>\n  Array.isArray(val) ? (val as T) : !!val ? ([val] as T[]) : [];\n\n/** Takes a single or array of store items and makes a name -> value map */\nconst makeStoreMap = (\n  _store: FlaggStoreInput\n): { [storeName: string]: ReadOrWriteStore } => {\n  const storeArr = makeArray(_store) as ReadOrWriteStore[];\n  return storeArr.reduce<{\n    [storeName: string]: ReadOrWriteStore;\n  }>(\n    (acc, store) => {\n      acc[store.name] = store;\n      return acc;\n    },\n    { [DEFAULT_STORE_NAME]: storeArr[0], [FROZEN_STORE_NAME]: inMemoryStore() }\n  );\n};\n\n/** Get the default value for a flag from its definition */\nconst getFlagDefaultValue = ({ flagDef }: { flagDef: FlagDefinition }) =>\n  flagDef.default === undefined ? null : flagDef.default;\n\n/** Get the value set for the flag for its store */\nconst getFlagValue = ({\n  flagDef,\n  flagName,\n  storeMap\n}: {\n  flagDef: FlagDefinition;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  const store = resolveFlagStore({ flagDef, storeMap });\n  return store.get(flagName);\n};\n\n/** Get the fully resolved flag value taking into account the default fallback */\nconst getResolvedFlagValue = ({\n  frozen,\n  definitions,\n  flagName,\n  storeMap\n}: {\n  frozen: { [key: string]: true };\n  definitions: FlagDefinitions;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  if (flagName in frozen) {\n    return storeMap[FROZEN_STORE_NAME].get(flagName);\n  }\n\n  const flagDef = getFlagDef({ definitions, flagName });\n\n  const defaultValue = getFlagDefaultValue({\n    flagDef\n  });\n\n  const value = getFlagValue({\n    flagDef,\n    flagName,\n    storeMap\n  });\n\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n\n  return value;\n};\n\n/** Get the fully resolved flag value taking into account the default fallback */\nconst setFlagValue = ({\n  frozen,\n  definitions,\n  flagName,\n  value,\n  storeMap\n}: {\n  frozen: { [key: string]: true };\n  value: FlagValue;\n  definitions: FlagDefinitions;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  if (flagName in frozen) {\n    console.warn(`Feature Flag ${flagName} is frozen`);\n    return;\n  }\n\n  const flagDef = getFlagDef({ definitions, flagName });\n  const store = resolveFlagStore({ flagDef, storeMap });\n  const defaultValue = getFlagDefaultValue({\n    flagDef\n  });\n\n  if (JSON.stringify(value) === JSON.stringify(defaultValue)) {\n    /* istanbul ignore else  */\n    if ('remove' in store) {\n      store.remove(flagName);\n    } else {\n      console.warn(\n        `Flagg: Attempting to write to readOnly store ${store.name}`\n      );\n    }\n  } else {\n    if ('set' in store) {\n      store.set(flagName, value);\n    } else {\n      console.warn(\n        `Flagg: Attempting to write to readOnly store ${store.name}`\n      );\n    }\n  }\n};\n\n/** Get the definition for a flag */\nconst getFlagDef = ({\n  definitions,\n  flagName\n}: {\n  definitions: FlagDefinitions;\n  flagName: string;\n}) => (flagName in definitions ? definitions[flagName] : {});\n\n/** Get the store instance for a flag definition */\nconst resolveFlagStore = ({\n  flagDef,\n  storeMap\n}: {\n  flagDef: FlagDefinition;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  const storeName = flagDef.store as string;\n  if (storeMap[storeName]) return storeMap[storeName];\n\n  if (storeName !== undefined) {\n    console.warn(\n      `Flagg store \"${storeName}\" not available. Did you forget to include it? Using default store instead.`\n    );\n  }\n  return storeMap[DEFAULT_STORE_NAME];\n};\n\nconst getFlagType = ({ flagDef }: { flagDef: FlagDefinition }) => {\n  if (flagDef.options) {\n    return 'select';\n  }\n\n  if (typeof flagDef.default === 'string') {\n    return 'string';\n  }\n\n  return 'boolean';\n};\n\n/** Create a new feature flags store with Flagg. */\nexport const flagg = <FFKeys extends string>({\n  store,\n  definitions = {},\n  hydrateFrom\n}: FlaggOpts) => {\n  const state: {\n    frozen: { [key: string]: true };\n    definitions: FlagDefinitions;\n    storeMap: { [storeName: string]: ReadOrWriteStore };\n  } = {\n    definitions,\n    frozen: {},\n    storeMap: makeStoreMap(store)\n  };\n\n  const hydrateFromStores = makeArray(hydrateFrom) as FlaggReadOnlyStore[];\n\n  const hydrate = () => {\n    hydrateFromStores.forEach(async hydrateStore => {\n      const values = await hydrateStore.all();\n      set(values as Partial<{ [key in FFKeys]: FlagValue }>);\n    });\n  };\n\n  const get = (flagName: FFKeys): FlagValue =>\n    getResolvedFlagValue({\n      frozen: state.frozen,\n      definitions: state.definitions,\n      flagName: String(flagName),\n      storeMap: state.storeMap\n    });\n\n  const getDefault = (flagName: FFKeys): FlagValue =>\n    getFlagDefaultValue({\n      flagDef: getFlagDef({ definitions: state.definitions, flagName })\n    });\n\n  const set = (\n    flagNameOrFlags: FFKeys | Partial<{ [key in FFKeys]: FlagValue }>,\n    value?: FlagValue\n  ) => {\n    if (typeof flagNameOrFlags === 'string') {\n      setFlagValue({\n        frozen: state.frozen,\n        value: value as FlagValue,\n        definitions: state.definitions,\n        flagName: String(flagNameOrFlags),\n        storeMap: state.storeMap\n      });\n    } else {\n      Object.entries(flagNameOrFlags).forEach(([flagName, value]) => {\n        setFlagValue({\n          frozen: state.frozen,\n          value: value as FlagValue,\n          definitions: state.definitions,\n          flagName: String(flagName),\n          storeMap: state.storeMap\n        });\n      });\n    }\n  };\n\n  const isOverridden = (flagName: FFKeys) => {\n    const flagDef = getFlagDef({ flagName, definitions: state.definitions });\n    const type = getFlagType({ flagDef });\n    return type === 'boolean'\n      ? !!get(flagName) !== !!getDefault(flagName)\n      : get(flagName) !== getDefault(flagName);\n  };\n\n  const setDefinitions = (definitions: FlagDefinitions) => {\n    state.definitions = definitions;\n    hydrate();\n  };\n\n  const getDefinitions = () => state.definitions;\n\n  const getAllResolved = () => {\n    return Object.keys(state.definitions).reduce<\n      Partial<{ [key in FFKeys]: FlagValue }>\n    >((acc, flagName) => {\n      acc[flagName as FFKeys] = get(flagName as FFKeys);\n      return acc;\n    }, {});\n  };\n\n  const getAllOverridden = () => {\n    return Object.keys(state.definitions).reduce<\n      Partial<{ [key in FFKeys]: FlagValue }>\n    >((acc, flagName) => {\n      if (isOverridden(flagName as FFKeys)) {\n        acc[flagName as FFKeys] = get(flagName as FFKeys);\n      }\n      return acc;\n    }, {});\n  };\n\n  const freeze = (flagName: FFKeys) => {\n    (state.storeMap[FROZEN_STORE_NAME] as FlaggStore).set(\n      flagName,\n      get(flagName)\n    );\n    state.frozen[flagName] = true;\n  };\n\n  const freezeAll = () => {\n    Object.keys(state.definitions).forEach(flagName =>\n      freeze(flagName as FFKeys)\n    );\n  };\n\n  const isFrozen = (flagName: FFKeys) => !!state.frozen[flagName];\n\n  hydrate();\n\n  return {\n    /** Gets a value for a feature flag. */\n    get,\n    /** Sets one or many feature flags. */\n    set,\n    /** Get the default value for a feature flag. */\n    getDefault,\n    /** Checks to see if a feature flag is overridden. */\n    isOverridden,\n    /** Set the definitions after init. */\n    setDefinitions,\n    /** Gets the current set  of definitions. */\n    getDefinitions,\n    /** Gets all feature flags with their resolved value. */\n    getAllResolved,\n    /** Get only the feature flags that are different than their defaults. */\n    getAllOverridden,\n    /** Freeze a feature flag to prevent further changes. */\n    freeze,\n    /** Freeze all feature flags. */\n    freezeAll,\n    /** Check if a feature flag is frozen. */\n    isFrozen\n  };\n};\n\nexport default flagg;\n","export * from './core';\nexport * from './store';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view\":\"app_view__2DuWx\"};","import React from 'react';\nimport { inMemoryStore } from '../store';\nimport { flagg } from '../core';\n\nexport const FlaggContext = React.createContext({\n  featureFlags: flagg({ store: inMemoryStore() }),\n  iteration: 0\n});\n","export default /* css */ `\n\n.flagg {\n\ttext-align: left;\n\tposition: relative;\n\tbackground-color: #f6f6f9;\n\tpadding-bottom: 3rem;\n\toverflow-y: auto;\n\tmax-height: 100vh;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.flagg * {\n\toutline: none;\n}\n\n.flagg-flag-icon {\n\tcolor: #f44436;\n\tmargin-right: 0.5rem;\n}\n\n.flagg-header {\n\theight: 4rem;\n\tline-height: 4rem;\n\tposition: sticky;\n\ttop: 0;\n\tbackground: black;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0 1.5rem;\n\tmargin-bottom: 1rem;\n\tz-index: 3;\n}\n\n.flagg-header .flagg-flag-icon {\n\tposition: relative;\n\ttop: 4px;\n}\n\n.flagg-header__name {\n\tfont-size: 1.25rem;\n\tfont-weight: bold;\n\tcolor: white;\n\ttext-transform: uppercase;\n\tletter-spacing: 1px;\n\tdisplay: inline-block;\n\tmargin-right: 2rem;\n}\n\n.flagg-header__lead {\n\tdisplay: flex;\n\tflex: 1;\n\talign-items: center;\n}\n\n.flagg-header__end {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.flagg-category--search {\n\tposition: relative;\n}\n\n.flagg-category--search:focus-within .flagg-search-icon {\n\tcolor: #f44436;\n}\n\n.flagg-search {\n\theight: 4rem;\n\tpadding: 1rem;\n\t-webkit-appearance: none;\n\tfont-size: 1.25rem;\n\tbackground: transparent;\n\tborder: 0;\n\tflex: 1;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 100%;\n\ttext-indent: 3rem;\n}\n\n.flagg-search-icon {\n\tposition: relative;\n\ttop: 4px;\n\ttransition: 0.3s;\n}\n\n.flagg-categories {\n\tpadding: 0 0.5rem;\n\tflex: 1;\n}\n\n.flagg-category {\n\tpadding: 1rem 1rem 1rem 2.5rem;\n\tbox-shadow: 0 8px 24px rgba(0,0,0,.033);\n\tborder-radius: 0.75rem;\n\tmax-width: 50rem;\n\tmargin: 1rem auto;\n\tbackground: white;\n}\n\n.flagg-control {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n\tmargin-left: 0.5rem;\n\tjustify-content: flex-end;\n}\n\n.flagg-snowflake-icon {\n\tcolor: deepskyblue;\n}\n\n.flagg-flag .flagg-flag-icon, .flagg-flag .flagg-snowflake-icon {\n\ttransition: 0.2s;\n\topacity: 0;\n\ttransform: scale(0);\t\n\tposition: absolute;\n\tleft: 0.6rem;\n}\n\n.flagg-flag--override .flagg-flag-icon, .flagg-flag--frozen .flagg-snowflake-icon {\n\topacity: 1;\n\ttransform: scale(0.85);\n}\n\n.flagg-control--override .flagg-flag-icon:hover, .flagg-control--override .flagg-snowflake-icon:hover {\n\tcursor: pointer;\n\t\n}\n\n.flagg-zero {\n\ttext-align: center;\n\tfont-size: 2rem;\n\tpadding: 4rem;\n\topacity: 0.5;\n}\n\n.flagg-category__name {\n\ttext-transform: capitalize;\n\tfont-size: 1.75rem;\n\tfont-weight: bold;\n\tmargin-bottom: 1rem;\n}\n\n.flagg-button {\n\t-webkit-appearance: none;\n\tbackground: none;\n\tcolor: white;\n\tborder: 0;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\tletter-spacing: 1px;\n\theight: 2.25rem;\n\tmargin: 0 0.5rem;\n\tcursor: pointer;\n\tborder-radius: 0.1875rem;\n}\n\n.flagg-button:hover, .flagg-button:focus {\n\tbackground-color: rgba(255,255,255, 0.1);\n}\n\n.flagg-flag {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-size: 1.25rem;\n\tmargin: 0 -1rem 0 -2.5rem;\n\tpadding: 0.75rem 1rem 0.75rem 2.5rem;\n\tcursor: pointer;\n\tposition: relative;\n}\n\n.flagg-flag > div:first-child {\n\tmax-width: calc(100% - 7rem);\n}\n\n.flagg-flag:hover {\n\tbackground-color: rgba(0,0,0,.05);\n}\n\n.flagg-flag__category-name {\n\topacity: 0.7;\n}\n\n.flagg-flag__name {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.flagg-flag__flag-name {\n\tfont-weight: 500;\n}\n\n.flagg-flag__description {\n\tfont-size: 0.875rem;\n\topacity: 0.7;\n\tmargin-top: 0.25rem;\n}\n\n.flagg-select {\n\tfont-size: 1.25rem;\n}\n\n.flagg-input {\n\tfont-size: 1.25rem;\n\ttext-align: center;\n\tline-height: 2rem;\n\tpadding: 0 0.5rem;\n\tborder-radius: 0.1875rem;\n\tborder: 1px solid rgba(0,0,0,.2);\n\twidth: 100%;\n}\n\n.flagg-toggle {\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tappearance: none;\n\twidth: 3.875rem;\n\theight: 2rem;\n\tdisplay: inline-block;\n\tposition: relative;\n\tborder-radius: 3.125rem;\n\toverflow: hidden;\n\toutline: none;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: #A0A0A0;\n\ttransition: background-color ease 0.3s;\n\t\n}\n\n.flagg-toggle:before {\n\tcontent: \"on off\";\n\tdisplay: block;\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.75rem;\n\theight: 1.75rem;\n\tbackground: #fff;\n\tleft: 2px;\n\ttop: 2px;\n\tborder-radius: 50%;\n\tfont: 0.625rem/1.75rem Helvetica;\n\ttext-transform: uppercase;\n\tfont-weight: bold;\n\ttext-indent: -1.375rem;\n\tword-spacing: 2.3125rem;\n\tcolor: #fff;\n\twhite-space: nowrap;\n\tbox-shadow: 0 1px 2px rgba(0,0,0,0.2);\n\ttransition: all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;\n}\n\n.flagg-toggle:checked {\n\tbackground-color: limegreen;\n}\n\n.flagg-toggle:checked:before {\n\tleft: 2rem;\n}\n\n.flagg-footer {\n\ttext-align: center;\n\tfont-size: 0.875rem;\n\tpadding-top: 1rem;\n}\n`;\n","import React, { useContext, useState } from 'react';\nimport { flagg } from '../core';\nimport { FlagDefinitions, FlagDefinition } from '../core';\nimport { FlaggContext } from './context';\nimport styles from './admin-styles';\n\nexport function FlaggAdmin({ onDone }: { onDone?: () => void }) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const { featureFlags: ff } = useContext(FlaggContext);\n  const definitions = getSortedDefinitions(\n    ff.getDefinitions(),\n    searchTerm.toLowerCase().trim()\n  );\n\n  const shareUrl = `${window.location.href}?ff=${encodeURIComponent(\n    JSON.stringify(ff.getAllOverridden())\n  )}`;\n\n  const reset = () => {\n    Object.entries(ff.getDefinitions()).forEach(([flagName, flagDef]) => {\n      ff.set(flagName, ff.getDefault(flagName));\n    });\n  };\n\n  return (\n    <div className=\"flagg\">\n      <style>{styles}</style>\n      <div className=\"flagg-header\">\n        <div className=\"flagg-header__lead\">\n          <span className=\"flagg-header__name\">\n            <Icon icon=\"flag\" />\n            <span>Flagg</span>\n          </span>\n        </div>\n\n        <div className=\"flagg-header__end\">\n          <button\n            className=\"flagg-button\"\n            onClick={() => navigator.clipboard.writeText(shareUrl)}\n          >\n            <Icon icon=\"link\" />\n          </button>\n          <button className=\"flagg-button\" onClick={reset}>\n            <Icon icon=\"refresh\" />\n          </button>\n          {onDone && (\n            <button className=\"flagg-button\" onClick={onDone}>\n              <Icon icon=\"checkCircle\" />\n            </button>\n          )}\n        </div>\n      </div>\n      <div className=\"flagg-categories\">\n        <div className=\"flagg-category flagg-category--search\">\n          <Icon icon=\"search\" />\n          <input\n            value={searchTerm}\n            onChange={evt => setSearchTerm(evt.currentTarget.value)}\n            className=\"flagg-search\"\n            type=\"search\"\n            placeholder=\"Search Feature Flags\"\n          />\n        </div>\n        {!definitions.length && (\n          <div className=\"flagg-zero\">Nothing to see here...</div>\n        )}\n        {definitions.map(({ categoryName, values }) => {\n          return (\n            <div key={categoryName} className=\"flagg-category\">\n              <div className=\"flagg-category__name\">\n                {categoryName || 'Flags'}\n              </div>\n              {values.map(({ flagName, name, definition }) => (\n                <Flag\n                  key={flagName}\n                  name={name}\n                  categoryName={categoryName}\n                  flagName={flagName}\n                  definition={definition}\n                  ff={ff}\n                />\n              ))}\n            </div>\n          );\n        })}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nfunction Footer() {\n  return (\n    <div className=\"flagg-footer\">\n      Made with ❤️ in Sunny FL &middot;{' '}\n      <a href=\"https://github.com/jamesmfriedman/flagg\">Visit Github</a>\n    </div>\n  );\n}\n\nconst iconPaths = {\n  flag: 'M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z',\n  search:\n    'M7,0 C3.1458514,0 0,3.1458514 0,7 C0,10.854149 3.1458514,14 7,14 C8.747998,14 10.345009,13.348024 11.574219,12.28125 L12,12.707031 L12,14 L18,20 L20,18 L14,12 L12.707031,12 L12.28125,11.574219 C13.348024,10.345009 14,8.747998 14,7 C14,3.1458514 10.854149,0 7,0 Z M7,2 C9.773268,2 12,4.2267316 12,7 C12,9.773268 9.773268,12 7,12 C4.2267316,12 2,9.773268 2,7 C2,4.2267316 4.2267316,2 7,2 Z',\n  refresh:\n    'M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z',\n  checkCircle:\n    'M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z',\n  link:\n    'M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z',\n  snowflake:\n    'M20.79,13.95L18.46,14.57L16.46,13.44V10.56L18.46,9.43L20.79,10.05L21.31,8.12L19.54,7.65L20,5.88L18.07,5.36L17.45,7.69L15.45,8.82L13,7.38V5.12L14.71,3.41L13.29,2L12,3.29L10.71,2L9.29,3.41L11,5.12V7.38L8.5,8.82L6.5,7.69L5.92,5.36L4,5.88L4.47,7.65L2.7,8.12L3.22,10.05L5.55,9.43L7.55,10.56V13.45L5.55,14.58L3.22,13.96L2.7,15.89L4.47,16.36L4,18.12L5.93,18.64L6.55,16.31L8.55,15.18L11,16.62V18.88L9.29,20.59L10.71,22L12,20.71L13.29,22L14.7,20.59L13,18.88V16.62L15.5,15.17L17.5,16.3L18.12,18.63L20,18.12L19.53,16.35L21.3,15.88L20.79,13.95M9.5,10.56L12,9.11L14.5,10.56V13.44L12,14.89L9.5,13.44V10.56Z'\n};\n\nfunction Icon({\n  icon,\n  ...props\n}: { icon: keyof typeof iconPaths } & React.HTMLProps<any>) {\n  const path = iconPaths[icon];\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n      className={`flagg-${icon}-icon`}\n    >\n      <path fill=\"currentColor\" d={path} />\n    </svg>\n  );\n}\n\nfunction Flag({\n  definition,\n  flagName,\n  name,\n  ff,\n  categoryName\n}: {\n  flagName: string;\n  definition: FlagDefinition;\n  name: string;\n  ff: ReturnType<typeof flagg>;\n  categoryName: string;\n}) {\n  let control = null;\n  const controlType = getControlType(definition);\n  const isOverride = ff.isOverridden(flagName);\n  const isFrozen = ff.isFrozen(flagName);\n\n  switch (controlType) {\n    case 'select':\n      control = (\n        <Select\n          value={ff.get(flagName) as string}\n          options={definition.options as string[]}\n          defaultValue={definition.default as string}\n          onChange={evt => ff.set(flagName, evt.currentTarget.value || null)}\n        />\n      );\n\n      break;\n    case 'input':\n      control = (\n        <Input\n          value={ff.get(flagName) as string}\n          onChange={evt => ff.set(flagName, evt.currentTarget.value || null)}\n        />\n      );\n      break;\n    case 'toggle':\n    default:\n      control = <Toggle checked={!!ff.get(flagName)} onChange={() => {}} />;\n  }\n\n  return (\n    <div\n      key={flagName}\n      className={[\n        'flagg-flag',\n        isOverride && 'flagg-flag--override',\n        isFrozen && 'flagg-flag--frozen'\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onClick={\n        controlType === 'toggle'\n          ? () => ff.set(flagName, !ff.get(flagName))\n          : undefined\n      }\n    >\n      {isFrozen && <Icon icon=\"snowflake\" />}\n      {!isFrozen && (\n        <Icon\n          icon=\"flag\"\n          onClick={evt => {\n            evt.stopPropagation();\n            ff.set(flagName, ff.getDefault(flagName));\n          }}\n        />\n      )}\n\n      <div>\n        <div className=\"flagg-flag__name\">\n          <span className=\"flagg-flag__flag-name\">{name}</span>\n        </div>\n        {!!definition.description && (\n          <div className=\"flagg-flag__description\">\n            {definition.description}\n          </div>\n        )}\n      </div>\n      <div\n        title={flagName + ' - Default: ' + String(ff.getDefault(flagName))}\n        className={['flagg-control'].filter(Boolean).join(' ')}\n      >\n        {control}\n      </div>\n    </div>\n  );\n}\n\nfunction Toggle({ ...props }: React.HTMLProps<HTMLInputElement>) {\n  return <input type=\"checkbox\" className=\"flagg-toggle\" {...props} />;\n}\n\nfunction Input({ ...props }: React.HTMLProps<HTMLInputElement>) {\n  return <input type=\"text\" className=\"flagg-input\" {...props} />;\n}\n\nfunction Select({\n  options,\n  defaultValue,\n  value,\n  ...props\n}: { options: string[]; defaultValue?: string } & React.HTMLProps<\n  HTMLSelectElement\n>) {\n  return (\n    <select className=\"flagg-select\" value={value || ''} {...props}>\n      {!defaultValue && <option value={''}>-- OFF --</option>}\n      {options.map(option => (\n        <option key={option} value={option}>\n          {option}\n        </option>\n      ))}\n    </select>\n  );\n}\n\nconst getControlType = (definition: FlagDefinition) => {\n  if (definition.options) {\n    return 'select';\n  }\n\n  if (typeof definition.default === 'string') {\n    return 'input';\n  }\n\n  return 'toggle';\n};\n\nconst getSortedDefinitions = (\n  definitions: FlagDefinitions,\n  searchTerm: string\n) => {\n  const defsMap = Object.entries(definitions).reduce<{\n    [key: string]: Array<{\n      name: string;\n      flagName: string;\n      definition: FlagDefinition;\n    }>;\n  }>((acc, [flagName, flagDef]) => {\n    const parts = flagName.split('.', 2);\n    const category = parts.length > 1 ? parts[0] : '';\n    const name = parts.pop() as string;\n    acc[category] = acc[category] || [];\n\n    const shouldAdd =\n      !searchTerm ||\n      (flagName.toLowerCase().includes(searchTerm) ||\n        (flagDef.description || '').toLowerCase().includes(searchTerm));\n\n    shouldAdd &&\n      acc[category].push({\n        flagName,\n        name,\n        definition: flagDef\n      });\n    return acc;\n  }, {});\n\n  return Object.entries(defsMap)\n    .filter(([, values]) => values.length)\n    .map(([categoryName, values]) => {\n      return {\n        categoryName,\n        values: values.sort((a, b) => (a.name > b.name ? 1 : -1))\n      };\n    })\n    .sort((a, b) => (a.categoryName > b.categoryName ? 1 : -1));\n};\n","import { useContext } from 'react';\nimport { FlaggContext } from './context';\nimport { FlagValue } from '../core';\n\n/****************************************************************\n * Hooks\n ****************************************************************/\n\nexport const useFeatureFlag = <T extends FlagValue>(\n  flagName: string\n): [T, (value: FlagValue) => void] => {\n  const { featureFlags } = useContext(FlaggContext);\n  return [\n    (featureFlags.get(flagName) as unknown) as T,\n    (value: FlagValue) => featureFlags.set(flagName, value)\n  ];\n};\n","import { useFeatureFlag as ffUseFeatureFlag } from 'flagg/react';\nimport { FlagValue } from 'flagg';\n\nexport const definitions = {\n  'app.title': {\n    default: 'InstaSnap'\n  },\n  'app.darkMode': {\n    default: false\n  },\n  'app.brandColor': {\n    default: '#6200ee',\n    options: ['#6200ee', '#009688', '#e91e64']\n  },\n  'app.bottomNav': {\n    default: false\n  },\n  'developer.debug': {},\n  'developer.enableFlagg': {\n    default: true,\n    description: 'Very meta... A feature flag to enable Flagg.'\n  },\n  'developer.enableExperimentalFeatures': {},\n  'developer.apiUrl': {\n    default: 'http://www.example.com/graphql'\n  },\n  'home.enableV2OptIn': {\n    default: true\n  },\n  'home.v2': {\n    default: false\n  }\n};\n\nexport const useFeatureFlag = <T extends FlagValue>(\n  flagName: keyof typeof definitions\n) => ffUseFeatureFlag<T>(flagName);\n","import React from 'react';\nimport {\n  Button,\n  Card,\n  CardPrimaryAction,\n  CardMedia,\n  Typography,\n  CardActions,\n  CardActionButtons,\n  CardActionButton,\n  CardActionIcons,\n  CardActionIcon\n} from 'rmwc';\n\nimport styles from './home.module.css';\nimport { useFeatureFlag } from '../feature-flags';\n\nexport function Home() {\n  const cards = [...Array(5)];\n  const [enableOptIn] = useFeatureFlag('home.enableV2OptIn');\n  const [, setHomeV2] = useFeatureFlag('home.v2');\n\n  return (\n    <div>\n      {enableOptIn && (\n        <div className={styles.banner} onClick={() => setHomeV2(true)}>\n          🎈 Try the new home experience! <Button>Try It</Button>\n        </div>\n      )}\n\n      {cards.map((val, index) => (\n        <HomeCard key={index} index={index + 1} />\n      ))}\n    </div>\n  );\n}\n\nfunction HomeCard({ index }: { index: number }) {\n  return (\n    <Card className={styles.homeCard}>\n      <CardPrimaryAction>\n        <CardMedia\n          sixteenByNine\n          style={{\n            backgroundImage: `url(images/backgrounds/mb-bg-fb-2${index}.png)`\n          }}\n        />\n        <div style={{ padding: '0 1rem 1rem 1rem' }}>\n          <Typography use=\"headline6\" tag=\"h2\">\n            Our Changing Planet\n          </Typography>\n          <Typography\n            use=\"subtitle2\"\n            tag=\"h3\"\n            theme=\"textSecondaryOnBackground\"\n            style={{ marginTop: '-1rem' }}\n          >\n            by Kurt Wagner\n          </Typography>\n          <Typography use=\"body1\" tag=\"div\" theme=\"textSecondaryOnBackground\">\n            Visit ten places on our planet that are undergoing the biggest\n            changes today.\n          </Typography>\n        </div>\n      </CardPrimaryAction>\n      <CardActions>\n        <CardActionButtons>\n          <CardActionButton>Comment</CardActionButton>\n        </CardActionButtons>\n        <CardActionIcons>\n          <CardActionIcon onIcon=\"favorite\" icon=\"favorite_border\" />\n          <CardActionIcon icon=\"share\" />\n          <CardActionIcon icon=\"more_vert\" />\n        </CardActionIcons>\n      </CardActions>\n    </Card>\n  );\n}\n","import React from 'react';\nimport { useFeatureFlag } from 'flagg/react';\nimport styles from './home.module.css';\nimport { Button } from 'rmwc';\n\nexport function HomeNew() {\n  const [homeV2, setHomeV2] = useFeatureFlag('home.v2');\n  return (\n    <div>\n      <div className={styles.banner} onClick={() => setHomeV2(false)}>\n        Use the old home instead... <Button>Go Back</Button>\n      </div>\n      New Home\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport 'material-components-web/dist/material-components-web.min.css';\nimport styles from './demo.module.css';\nimport classNames from 'classnames';\n\nimport {\n  SimpleTopAppBar,\n  Tab,\n  TabBar,\n  Drawer,\n  DrawerHeader,\n  DrawerTitle,\n  DrawerSubtitle,\n  DrawerContent,\n  List,\n  ListItem\n} from 'rmwc';\nimport { Home } from './home';\nimport { HomeNew } from './home-new';\nimport { useFeatureFlag } from '../feature-flags';\nimport { FlaggAdmin } from 'flagg/react';\n\nexport function Demo() {\n  const [route, setRoute] = useState('home');\n  const [navOpen, setNavOpen] = useState(false);\n\n  const [isDarkMode] = useFeatureFlag('app.darkMode');\n  const [title] = useFeatureFlag<string>('app.title');\n  const [brandColor] = useFeatureFlag<string>('app.brandColor');\n  const [isBottomNav] = useFeatureFlag('app.bottomNav');\n  const [homeV2] = useFeatureFlag('home.v2');\n  const [enableFlagg] = useFeatureFlag('developer.enableFlagg');\n\n  let content = null;\n  switch (route) {\n    case 'home':\n      content = !!homeV2 ? <HomeNew /> : <Home />;\n      break;\n    case 'featureflags':\n      content = enableFlagg ? <FlaggAdmin /> : null;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div\n      className={styles.view}\n      style={\n        {\n          '--mdc-theme-primary': brandColor\n        } as React.CSSProperties\n      }\n    >\n      <div className={styles.callout}>\n        <h1>Flagg Demo</h1>\n        This demo is to showcase how a real app might react to Feature Flags\n        specified using Flagg. The admin interface (pictured left) is an\n        optional React component that you can mount at a secret route of your\n        app that provides visibility and control of your Feature Flags when\n        developing.\n      </div>\n      <div className={styles.appWrapper}>\n        <div\n          className={classNames(styles.app, {\n            [styles.darkMode]: isDarkMode\n          })}\n        >\n          {isBottomNav ? (\n            <>\n              <div className={styles.bottomNavHeader}>{title}</div>\n              <div className={styles.bottomNav}>\n                <TabBar>\n                  <Tab stacked icon=\"chrome_reader_mode\" label=\"Feed\" />\n                  <Tab stacked icon=\"person\" label=\"Profile\" />\n                  <Tab\n                    stacked\n                    icon=\"more_horiz\"\n                    label=\"More\"\n                    onClick={() => setNavOpen(true)}\n                  />\n                </TabBar>\n              </div>\n            </>\n          ) : (\n            <SimpleTopAppBar\n              navigationIcon={{\n                onClick: () => setNavOpen(true)\n              }}\n              title={title}\n              className={styles.appBar}\n            />\n          )}\n          <AppDrawer\n            open={navOpen}\n            setOpen={setNavOpen}\n            setRoute={route => {\n              setRoute(route);\n              setNavOpen(false);\n            }}\n          />\n          <div className={styles.content}>{content}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction AppDrawer({\n  open,\n  setOpen,\n  setRoute\n}: {\n  open: boolean;\n  setOpen: (bool: boolean) => void;\n  setRoute: (route: string) => void;\n}) {\n  const [enableFlagg] = useFeatureFlag('developer.enableFlagg');\n  const [title] = useFeatureFlag('app.title');\n\n  return (\n    <Drawer modal open={open} onClose={() => setOpen(false)}>\n      <DrawerHeader>\n        <DrawerTitle>{title}</DrawerTitle>\n      </DrawerHeader>\n      <DrawerContent>\n        <List>\n          <ListItem onClick={() => setRoute('home')}>Feed</ListItem>\n          <ListItem onClick={() => setRoute('home')}>Profile</ListItem>\n          {enableFlagg && (\n            <ListItem onClick={() => setRoute('featureflags')}>\n              Feature Flags\n            </ListItem>\n          )}\n          <ListItem onClick={() => setRoute('home')}>Logout</ListItem>\n        </List>\n      </DrawerContent>\n    </Drawer>\n  );\n}\n","import React from 'react';\nimport styles from './app.module.css';\nimport { FlaggAdmin } from './flagg/react';\nimport { Demo } from './demo/demo';\n\nfunction App() {\n  return (\n    <div className={styles.view}>\n      <FlaggAdmin />\n      <Demo />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\nimport { definitions } from './feature-flags';\n\nimport { flagg, sessionStore } from './flagg';\nimport { FlaggProvider } from './flagg/react';\n\nconst featureFlags = flagg<keyof typeof definitions>({\n  store: sessionStore(),\n  definitions\n});\n\nfeatureFlags.freeze('developer.enableFlagg');\n\nReactDOM.render(\n  <FlaggProvider featureFlags={featureFlags}>\n    <App />\n  </FlaggProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useState, useEffect } from 'react';\nimport { flagg } from '../core';\nimport { FlaggContext } from './context';\n\nexport function FlaggProvider<FF extends ReturnType<typeof flagg> | any>({\n  children,\n  featureFlags\n}: {\n  children: React.ReactNode;\n  featureFlags: FF;\n}) {\n  const [iteration, setIteration] = useState(0);\n  const ff = (featureFlags as unknown) as ReturnType<typeof flagg>;\n\n  useEffect(() => {\n    const originalSet = featureFlags.set;\n\n    ff.set = (...args) => {\n      const rVal = originalSet(...args);\n      setIteration(val => val + 1);\n      return rVal;\n    };\n  }, []);\n\n  return (\n    <FlaggContext.Provider value={{ featureFlags: ff, iteration }}>\n      {children}\n    </FlaggContext.Provider>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view\":\"demo_view__3WA2d\",\"appWrapper\":\"demo_appWrapper__fgOro\",\"app\":\"demo_app__21s33\",\"darkMode\":\"demo_darkMode__75EcZ\",\"content\":\"demo_content__1ou7d\",\"appBar\":\"demo_appBar__1wE_C\",\"bottomNavHeader\":\"demo_bottomNavHeader__HIv0o\",\"bottomNav\":\"demo_bottomNav__OwTRM\",\"callout\":\"demo_callout__3gmYC\"};"],"sourceRoot":""}