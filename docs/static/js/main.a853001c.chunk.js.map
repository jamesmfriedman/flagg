{"version":3,"sources":["demo/demo.module.css","../../src/store/utils.ts","../../src/store/in-memory-store.ts","../../src/store/session-store.ts","../../src/store/index.tsx","demo/home.module.css","../../src/core/index.ts","../../src/index.ts","app.module.css","feature-flags.tsx","demo/home.tsx","demo/home-new.tsx","demo/demo.tsx","app.tsx","serviceWorker.ts","index.tsx","../../src/react/context.tsx","../../src/react/admin-styles.tsx","../../src/react/admin.tsx","../../src/react/provider.tsx","../../src/react/hooks.tsx","../../src/react/index.tsx"],"names":["module","exports","getKey","key","KEY_PREFIX","safeParseJSON","value","JSON","parse","err","mapFromStoredValuesWithPrefix","stored","getter","Object","entries","reduce","acc","startsWith","hasPrefix","flagName","slice","length","removePrefix","inMemoryStore","store","name","get","set","remove","all","sessionStore","window","sessionStorage","getItem","setItem","stringify","removeItem","makeArray","val","Array","isArray","makeStoreMap","_store","storeArr","getFlagDefaultValue","flagDef","undefined","default","getResolvedFlagValue","frozen","definitions","storeMap","getFlagDef","defaultValue","resolveFlagStore","getFlagValue","setFlagValue","console","warn","storeName","flagg","state","String","getDefault","flagNameOrFlags","forEach","isOverridden","options","getFlagType","freeze","setDefinitions","getDefinitions","getAllResolved","keys","getAllOverridden","freezeAll","isFrozen","hydrateFrom","storeToHydrateFrom","hydrateStore","a","values","useFeatureFlag","ffUseFeatureFlag","Home","cards","enableOptIn","setHomeV2","className","styles","banner","onClick","map","index","HomeCard","homeCard","sixteenByNine","style","backgroundImage","padding","use","tag","theme","marginTop","onIcon","icon","HomeNew","Demo","useState","route","setRoute","navOpen","setNavOpen","isDarkMode","title","brandColor","isBottomNav","homeV2","enableFlagg","content","view","callout","appWrapper","classNames","app","darkMode","bottomNavHeader","bottomNav","stacked","label","navigationIcon","appBar","AppDrawer","open","setOpen","modal","onClose","App","Boolean","location","hostname","match","featureFlags","description","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","FlaggContext","React","createContext","iteration","FlaggAdmin","onDone","searchTerm","setSearchTerm","ff","useContext","getSortedDefinitions","toLowerCase","trim","shareUrl","href","encodeURIComponent","Icon","clipboard","writeText","onChange","evt","currentTarget","type","placeholder","categoryName","definition","Flag","Footer","iconPaths","flag","search","refresh","checkCircle","link","snowflake","props","path","width","height","viewBox","fill","d","control","controlType","getControlType","isOverride","Select","Input","Toggle","checked","filter","join","stopPropagation","option","defsMap","parts","split","category","pop","includes","push","sort","b","FlaggProvider","children","setIteration","useEffect","originalSet","rVal","Provider"],"mappings":"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","file":"static/js/main.a853001c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"view\":\"demo_view__3WA2d\",\"appWrapper\":\"demo_appWrapper__fgOro\",\"app\":\"demo_app__21s33\",\"darkMode\":\"demo_darkMode__75EcZ\",\"content\":\"demo_content__1ou7d\",\"appBar\":\"demo_appBar__1wE_C\",\"bottomNavHeader\":\"demo_bottomNavHeader__HIv0o\",\"bottomNav\":\"demo_bottomNav__OwTRM\",\"callout\":\"demo_callout__3gmYC\"};","import { FlagValue } from '../core';\n\nexport const KEY_PREFIX = 'ff';\n\nexport const getKey = (key: string) => KEY_PREFIX + '.' + key;\n\nexport const safeParseJSON = (value: any): FlagValue => {\n  try {\n    return JSON.parse(value);\n  } catch (err) {}\n  return value;\n};\n\nconst hasPrefix = (key: string) => key.startsWith(KEY_PREFIX + '.');\n\nconst removePrefix = (key: string) => key.slice(KEY_PREFIX.length + 1);\n\nexport const mapFromStoredValuesWithPrefix = (\n  stored: {\n    [key: string]: FlagValue;\n  },\n  getter: (flagName: string) => FlagValue\n) => {\n  return Object.entries(stored).reduce<{ [key: string]: FlagValue }>(\n    (acc, [key, value]) => {\n      if (hasPrefix(key)) {\n        const flagName = removePrefix(key);\n        acc[flagName] = getter(flagName);\n      }\n      return acc;\n    },\n    {}\n  );\n};\n","import { FlaggStore, FlagValue } from '../core';\nimport { getKey } from './utils';\n\nexport const inMemoryStore = (): FlaggStore => {\n  const store: { [key: string]: FlagValue } = {};\n\n  return {\n    name: 'inMemoryStore',\n    get: (flagName: string): FlagValue => store[flagName] || null,\n    set: (flagName, value) => {\n      store[flagName] = value;\n    },\n    remove: flagName => delete store[getKey(flagName)],\n    all: () => store\n  };\n};\n","import { FlaggStore, FlagValue } from '../core';\nimport { getKey, safeParseJSON, mapFromStoredValuesWithPrefix } from './utils';\n\nexport const sessionStore = (): FlaggStore => {\n  const get = (flagName: string): FlagValue =>\n    safeParseJSON(window.sessionStorage.getItem(getKey(flagName)));\n\n  return {\n    name: 'sessionStore',\n    get,\n    set: (flagName, value) =>\n      window.sessionStorage.setItem(getKey(flagName), JSON.stringify(value)),\n    remove: flagName => window.sessionStorage.removeItem(getKey(flagName)),\n    all: () => mapFromStoredValuesWithPrefix(window.sessionStorage, get)\n  };\n};\n","export * from './env-store';\nexport * from './in-memory-store';\nexport * from './local-store';\nexport * from './session-store';\nexport * from './url-store';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homeCard\":\"home_homeCard__2nPym\",\"banner\":\"home_banner__1loZD\"};","import {\n  FlaggOpts,\n  FlaggStore,\n  FlagDefinition,\n  FlagDefinitions,\n  FlagValue,\n  FlaggReadOnlyStore,\n  FlaggStoreInput\n} from './defs';\nimport { inMemoryStore } from '../store';\n\nexport * from './defs';\n\ntype ReadOrWriteStore = FlaggStore | FlaggReadOnlyStore;\n\nconst DEFAULT_STORE_NAME = '__default';\nconst FROZEN_STORE_NAME = '__frozen';\n\n/** Ensures a value is an array */\nconst makeArray = <T>(val: T) =>\n  Array.isArray(val) ? (val as T) : !!val ? ([val] as T[]) : [];\n\n/** Takes a single or array of store items and makes a name -> value map */\nconst makeStoreMap = (\n  _store: FlaggStoreInput\n): { [storeName: string]: ReadOrWriteStore } => {\n  const storeArr = makeArray(_store) as ReadOrWriteStore[];\n  return storeArr.reduce<{\n    [storeName: string]: ReadOrWriteStore;\n  }>(\n    (acc, store) => {\n      acc[store.name] = store;\n      return acc;\n    },\n    { [DEFAULT_STORE_NAME]: storeArr[0], [FROZEN_STORE_NAME]: inMemoryStore() }\n  );\n};\n\n/** Get the default value for a flag from its definition */\nconst getFlagDefaultValue = ({ flagDef }: { flagDef: FlagDefinition }) =>\n  flagDef.default === undefined ? null : flagDef.default;\n\n/** Get the value set for the flag for its store */\nconst getFlagValue = ({\n  flagDef,\n  flagName,\n  storeMap\n}: {\n  flagDef: FlagDefinition;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  const store = resolveFlagStore({ flagDef, storeMap });\n  return store.get(flagName);\n};\n\n/** Get the fully resolved flag value taking into account the default fallback */\nconst getResolvedFlagValue = ({\n  frozen,\n  definitions,\n  flagName,\n  storeMap\n}: {\n  frozen: { [key: string]: true };\n  definitions: FlagDefinitions;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  if (flagName in frozen) {\n    return storeMap[FROZEN_STORE_NAME].get(flagName);\n  }\n\n  const flagDef = getFlagDef({ definitions, flagName });\n\n  const defaultValue = getFlagDefaultValue({\n    flagDef\n  });\n\n  const value = getFlagValue({\n    flagDef,\n    flagName,\n    storeMap\n  });\n\n  if (value === undefined || value === null) {\n    return defaultValue;\n  }\n\n  return value;\n};\n\n/** Get the fully resolved flag value taking into account the default fallback */\nconst setFlagValue = ({\n  frozen,\n  definitions,\n  flagName,\n  value,\n  storeMap\n}: {\n  frozen: { [key: string]: true };\n  value: FlagValue;\n  definitions: FlagDefinitions;\n  flagName: string;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  if (flagName in frozen) {\n    console.warn(`Feature Flag ${flagName} is frozen`);\n    return;\n  }\n\n  const flagDef = getFlagDef({ definitions, flagName });\n  const store = resolveFlagStore({ flagDef, storeMap });\n  const defaultValue = getFlagDefaultValue({\n    flagDef\n  });\n\n  if (JSON.stringify(value) === JSON.stringify(defaultValue)) {\n    /* istanbul ignore else  */\n    if ('remove' in store) {\n      store.remove(flagName);\n    } else {\n      console.warn(\n        `Flagg: Attempting to write to readOnly store ${store.name}`\n      );\n    }\n  } else {\n    if ('set' in store) {\n      store.set(flagName, value);\n    } else {\n      console.warn(\n        `Flagg: Attempting to write to readOnly store ${store.name}`\n      );\n    }\n  }\n};\n\n/** Get the definition for a flag */\nconst getFlagDef = ({\n  definitions,\n  flagName\n}: {\n  definitions: FlagDefinitions;\n  flagName: string;\n}) => (flagName in definitions ? definitions[flagName] : {});\n\n/** Get the store instance for a flag definition */\nconst resolveFlagStore = ({\n  flagDef,\n  storeMap\n}: {\n  flagDef: FlagDefinition;\n  storeMap: { [storeName: string]: ReadOrWriteStore };\n}) => {\n  const storeName = flagDef.store as string;\n  if (storeMap[storeName]) return storeMap[storeName];\n\n  if (storeName !== undefined) {\n    console.warn(\n      `Flagg store \"${storeName}\" not available. Did you forget to include it? Using default store instead.`\n    );\n  }\n  return storeMap[DEFAULT_STORE_NAME];\n};\n\nconst getFlagType = ({ flagDef }: { flagDef: FlagDefinition }) => {\n  if (flagDef.options) {\n    return 'select';\n  }\n\n  if (typeof flagDef.default === 'string') {\n    return 'string';\n  }\n\n  return 'boolean';\n};\n\n/** Create a new feature flags store with Flagg. */\nexport const flagg = <FFKeys extends string>({\n  store,\n  definitions = {}\n}: FlaggOpts) => {\n  const state: {\n    frozen: { [key: string]: true };\n    definitions: FlagDefinitions;\n    storeMap: { [storeName: string]: ReadOrWriteStore };\n  } = {\n    definitions,\n    frozen: {},\n    storeMap: makeStoreMap(store)\n  };\n\n  const hydrateFrom = (\n    storeToHydrateFrom: FlaggReadOnlyStore | Array<FlaggReadOnlyStore>\n  ) => {\n    const hydrateFromStores = makeArray(\n      storeToHydrateFrom\n    ) as FlaggReadOnlyStore[];\n    hydrateFromStores.forEach(async hydrateStore => {\n      const values = await hydrateStore.all();\n      set(values as Partial<{ [key in FFKeys]: FlagValue }>);\n    });\n  };\n\n  const get = (flagName: FFKeys): FlagValue =>\n    getResolvedFlagValue({\n      frozen: state.frozen,\n      definitions: state.definitions,\n      flagName: String(flagName),\n      storeMap: state.storeMap\n    });\n\n  const getDefault = (flagName: FFKeys): FlagValue =>\n    getFlagDefaultValue({\n      flagDef: getFlagDef({ definitions: state.definitions, flagName })\n    });\n\n  const set = (\n    flagNameOrFlags: FFKeys | Partial<{ [key in FFKeys]: FlagValue }>,\n    value?: FlagValue\n  ) => {\n    if (typeof flagNameOrFlags === 'string') {\n      setFlagValue({\n        frozen: state.frozen,\n        value: value as FlagValue,\n        definitions: state.definitions,\n        flagName: String(flagNameOrFlags),\n        storeMap: state.storeMap\n      });\n    } else {\n      Object.entries(flagNameOrFlags).forEach(([flagName, value]) => {\n        setFlagValue({\n          frozen: state.frozen,\n          value: value as FlagValue,\n          definitions: state.definitions,\n          flagName: String(flagName),\n          storeMap: state.storeMap\n        });\n      });\n    }\n  };\n\n  const isOverridden = (flagName: FFKeys) => {\n    const flagDef = getFlagDef({ flagName, definitions: state.definitions });\n    const type = getFlagType({ flagDef });\n    return type === 'boolean'\n      ? !!get(flagName) !== !!getDefault(flagName)\n      : get(flagName) !== getDefault(flagName);\n  };\n\n  const setDefinitions = (definitions: FlagDefinitions) => {\n    state.definitions = definitions;\n  };\n\n  const getDefinitions = () => state.definitions;\n\n  const getAllResolved = () => {\n    return Object.keys(state.definitions).reduce<\n      Partial<{ [key in FFKeys]: FlagValue }>\n    >((acc, flagName) => {\n      acc[flagName as FFKeys] = get(flagName as FFKeys);\n      return acc;\n    }, {});\n  };\n\n  const getAllOverridden = () => {\n    return Object.keys(state.definitions).reduce<\n      Partial<{ [key in FFKeys]: FlagValue }>\n    >((acc, flagName) => {\n      if (isOverridden(flagName as FFKeys)) {\n        acc[flagName as FFKeys] = get(flagName as FFKeys);\n      }\n      return acc;\n    }, {});\n  };\n\n  const freeze = (flagName: FFKeys) => {\n    (state.storeMap[FROZEN_STORE_NAME] as FlaggStore).set(\n      flagName,\n      get(flagName)\n    );\n    state.frozen[flagName] = true;\n  };\n\n  const freezeAll = () => {\n    Object.keys(state.definitions).forEach(flagName =>\n      freeze(flagName as FFKeys)\n    );\n  };\n\n  const isFrozen = (flagName: FFKeys) => !!state.frozen[flagName];\n\n  return {\n    /** Gets a value for a feature flag. */\n    get,\n    /** Sets one or many feature flags. */\n    set,\n    /** Get the default value for a feature flag. */\n    getDefault,\n    /** Checks to see if a feature flag is overridden. */\n    isOverridden,\n    /** Set the definitions after init. */\n    setDefinitions,\n    /** Gets the current set  of definitions. */\n    getDefinitions,\n    /** Gets all feature flags with their resolved value. */\n    getAllResolved,\n    /** Get only the feature flags that are different than their defaults. */\n    getAllOverridden,\n    /** Freeze a feature flag to prevent further changes. */\n    freeze,\n    /** Freeze all feature flags. */\n    freezeAll,\n    /** Check if a feature flag is frozen. */\n    isFrozen,\n    /** Allows you to hydrate from one or more stores. See the docs on Stores. */\n    hydrateFrom\n  };\n};\n\nexport default flagg;\n","export * from './core';\nexport * from './store';\nexport * from './react';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view\":\"app_view__2DuWx\"};","import { useFeatureFlag as ffUseFeatureFlag } from 'flagg/react';\nimport { FlagValue } from 'flagg';\n\nexport const definitions = {\n  'app.title': {\n    default: 'InstaSnap'\n  },\n  'app.darkMode': {\n    default: false\n  },\n  'app.brandColor': {\n    default: '#6200ee',\n    options: ['#6200ee', '#009688', '#e91e64']\n  },\n  'app.bottomNav': {\n    default: false\n  },\n  'developer.debug': {},\n  'developer.enableFlagg': {\n    default: true,\n    description: 'Very meta... A feature flag to enable Flagg.'\n  },\n  'developer.enableExperimentalFeatures': {},\n  'developer.apiUrl': {\n    default: 'http://www.example.com/graphql'\n  },\n  'home.enableV2OptIn': {\n    default: true\n  },\n  'home.v2': {\n    default: false\n  }\n};\n\nexport const useFeatureFlag = <T extends FlagValue>(\n  flagName: keyof typeof definitions\n) => ffUseFeatureFlag<T>(flagName);\n","import React from 'react';\nimport {\n  Button,\n  Card,\n  CardPrimaryAction,\n  CardMedia,\n  Typography,\n  CardActions,\n  CardActionButtons,\n  CardActionButton,\n  CardActionIcons,\n  CardActionIcon\n} from 'rmwc';\n\nimport styles from './home.module.css';\nimport { useFeatureFlag } from '../feature-flags';\n\nexport function Home() {\n  const cards = [...Array(5)];\n  const [enableOptIn] = useFeatureFlag('home.enableV2OptIn');\n  const [, setHomeV2] = useFeatureFlag('home.v2');\n\n  return (\n    <div>\n      {enableOptIn && (\n        <div className={styles.banner} onClick={() => setHomeV2(true)}>\n          🎈 Try the new home experience! <Button>Try It</Button>\n        </div>\n      )}\n\n      {cards.map((val, index) => (\n        <HomeCard key={index} index={index + 1} />\n      ))}\n    </div>\n  );\n}\n\nfunction HomeCard({ index }: { index: number }) {\n  return (\n    <Card className={styles.homeCard}>\n      <CardPrimaryAction>\n        <CardMedia\n          sixteenByNine\n          style={{\n            backgroundImage: `url(images/backgrounds/mb-bg-fb-2${index}.png)`\n          }}\n        />\n        <div style={{ padding: '0 1rem 1rem 1rem' }}>\n          <Typography use=\"headline6\" tag=\"h2\">\n            Our Changing Planet\n          </Typography>\n          <Typography\n            use=\"subtitle2\"\n            tag=\"h3\"\n            theme=\"textSecondaryOnBackground\"\n            style={{ marginTop: '-1rem' }}\n          >\n            by Kurt Wagner\n          </Typography>\n          <Typography use=\"body1\" tag=\"div\" theme=\"textSecondaryOnBackground\">\n            Visit ten places on our planet that are undergoing the biggest\n            changes today.\n          </Typography>\n        </div>\n      </CardPrimaryAction>\n      <CardActions>\n        <CardActionButtons>\n          <CardActionButton>Comment</CardActionButton>\n        </CardActionButtons>\n        <CardActionIcons>\n          <CardActionIcon onIcon=\"favorite\" icon=\"favorite_border\" />\n          <CardActionIcon icon=\"share\" />\n          <CardActionIcon icon=\"more_vert\" />\n        </CardActionIcons>\n      </CardActions>\n    </Card>\n  );\n}\n","import React from 'react';\nimport { useFeatureFlag } from 'flagg/react';\nimport styles from './home.module.css';\nimport { Button } from 'rmwc';\n\nexport function HomeNew() {\n  const [homeV2, setHomeV2] = useFeatureFlag('home.v2');\n  return (\n    <div>\n      <div className={styles.banner} onClick={() => setHomeV2(false)}>\n        Use the old home instead... <Button>Go Back</Button>\n      </div>\n      New Home\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport 'material-components-web/dist/material-components-web.min.css';\nimport styles from './demo.module.css';\nimport classNames from 'classnames';\n\nimport {\n  SimpleTopAppBar,\n  Tab,\n  TabBar,\n  Drawer,\n  DrawerHeader,\n  DrawerTitle,\n  DrawerSubtitle,\n  DrawerContent,\n  List,\n  ListItem\n} from 'rmwc';\nimport { Home } from './home';\nimport { HomeNew } from './home-new';\nimport { useFeatureFlag } from '../feature-flags';\nimport { FlaggAdmin } from 'flagg/react';\n\nexport function Demo() {\n  const [route, setRoute] = useState('home');\n  const [navOpen, setNavOpen] = useState(false);\n\n  const [isDarkMode] = useFeatureFlag('app.darkMode');\n  const [title] = useFeatureFlag<string>('app.title');\n  const [brandColor] = useFeatureFlag<string>('app.brandColor');\n  const [isBottomNav] = useFeatureFlag('app.bottomNav');\n  const [homeV2] = useFeatureFlag('home.v2');\n  const [enableFlagg] = useFeatureFlag('developer.enableFlagg');\n\n  let content = null;\n  switch (route) {\n    case 'home':\n      content = !!homeV2 ? <HomeNew /> : <Home />;\n      break;\n    case 'featureflags':\n      content = enableFlagg ? <FlaggAdmin /> : null;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div\n      className={styles.view}\n      style={\n        {\n          '--mdc-theme-primary': brandColor\n        } as React.CSSProperties\n      }\n    >\n      <div className={styles.callout}>\n        <h1>Flagg Demo</h1>\n        This demo is to showcase how a real app might react to Feature Flags\n        specified using Flagg. The admin interface (pictured left) is an\n        optional React component that you can mount at a secret route of your\n        app that provides visibility and control of your Feature Flags when\n        developing.\n      </div>\n      <div className={styles.appWrapper}>\n        <div\n          className={classNames(styles.app, {\n            [styles.darkMode]: isDarkMode\n          })}\n        >\n          {isBottomNav ? (\n            <>\n              <div className={styles.bottomNavHeader}>{title}</div>\n              <div className={styles.bottomNav}>\n                <TabBar>\n                  <Tab stacked icon=\"chrome_reader_mode\" label=\"Feed\" />\n                  <Tab stacked icon=\"person\" label=\"Profile\" />\n                  <Tab\n                    stacked\n                    icon=\"more_horiz\"\n                    label=\"More\"\n                    onClick={() => setNavOpen(true)}\n                  />\n                </TabBar>\n              </div>\n            </>\n          ) : (\n            <SimpleTopAppBar\n              navigationIcon={{\n                onClick: () => setNavOpen(true)\n              }}\n              title={title}\n              className={styles.appBar}\n            />\n          )}\n          <AppDrawer\n            open={navOpen}\n            setOpen={setNavOpen}\n            setRoute={route => {\n              setRoute(route);\n              setNavOpen(false);\n            }}\n          />\n          <div className={styles.content}>{content}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction AppDrawer({\n  open,\n  setOpen,\n  setRoute\n}: {\n  open: boolean;\n  setOpen: (bool: boolean) => void;\n  setRoute: (route: string) => void;\n}) {\n  const [enableFlagg] = useFeatureFlag('developer.enableFlagg');\n  const [title] = useFeatureFlag('app.title');\n\n  return (\n    <Drawer modal open={open} onClose={() => setOpen(false)}>\n      <DrawerHeader>\n        <DrawerTitle>{title}</DrawerTitle>\n      </DrawerHeader>\n      <DrawerContent>\n        <List>\n          <ListItem onClick={() => setRoute('home')}>Feed</ListItem>\n          <ListItem onClick={() => setRoute('home')}>Profile</ListItem>\n          {enableFlagg && (\n            <ListItem onClick={() => setRoute('featureflags')}>\n              Feature Flags\n            </ListItem>\n          )}\n          <ListItem onClick={() => setRoute('home')}>Logout</ListItem>\n        </List>\n      </DrawerContent>\n    </Drawer>\n  );\n}\n","import React from 'react';\nimport styles from './app.module.css';\nimport { FlaggAdmin } from './flagg/react';\nimport { Demo } from './demo/demo';\n\nfunction App() {\n  return (\n    <div className={styles.view}>\n      <FlaggAdmin />\n      <Demo />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\nimport * as serviceWorker from './serviceWorker';\nimport { definitions } from './feature-flags';\n\nimport { flagg, sessionStore } from './flagg';\nimport { FlaggProvider } from './flagg/react';\n\nconst featureFlags = flagg<keyof typeof definitions>({\n  store: sessionStore(),\n  definitions\n});\n\nfeatureFlags.freeze('developer.enableFlagg');\n\nReactDOM.render(\n  <FlaggProvider featureFlags={featureFlags}>\n    <App />\n  </FlaggProvider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport { inMemoryStore } from '../store';\nimport { flagg } from '../core';\n\nexport const FlaggContext = React.createContext({\n  featureFlags: flagg({ store: inMemoryStore() }),\n  iteration: 0\n});\n","export default /* css */ `\n\n.flagg {\n\ttext-align: left;\n\tposition: relative;\n\tbackground-color: #f6f6f9;\n\tpadding-bottom: 3rem;\n\toverflow-y: auto;\n\tmax-height: 100vh;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.flagg * {\n\toutline: none;\n}\n\n.flagg-flag-icon {\n\tcolor: #f44436;\n\tmargin-right: 0.5rem;\n}\n\n.flagg-header {\n\theight: 4rem;\n\tline-height: 4rem;\n\tposition: sticky;\n\ttop: 0;\n\tbackground: black;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 0 1.5rem;\n\tmargin-bottom: 1rem;\n\tz-index: 3;\n}\n\n.flagg-header .flagg-flag-icon {\n\tposition: relative;\n\ttop: 4px;\n}\n\n.flagg-header__name {\n\tfont-size: 1.25rem;\n\tfont-weight: bold;\n\tcolor: white;\n\ttext-transform: uppercase;\n\tletter-spacing: 1px;\n\tdisplay: inline-block;\n\tmargin-right: 2rem;\n}\n\n.flagg-header__lead {\n\tdisplay: flex;\n\tflex: 1;\n\talign-items: center;\n}\n\n.flagg-header__end {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.flagg-category--search {\n\tposition: relative;\n}\n\n.flagg-category--search:focus-within .flagg-search-icon {\n\tcolor: #f44436;\n}\n\n.flagg-search {\n\theight: 4rem;\n\tpadding: 1rem;\n\t-webkit-appearance: none;\n\tfont-size: 1.25rem;\n\tbackground: transparent;\n\tborder: 0;\n\tflex: 1;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 100%;\n\ttext-indent: 3rem;\n}\n\n.flagg-search-icon {\n\tposition: relative;\n\ttop: 4px;\n\ttransition: 0.3s;\n}\n\n.flagg-categories {\n\tpadding: 0 0.5rem;\n\tflex: 1;\n}\n\n.flagg-category {\n\tpadding: 1rem 1rem 1rem 2.5rem;\n\tbox-shadow: 0 8px 24px rgba(0,0,0,.033);\n\tborder-radius: 0.75rem;\n\tmax-width: 50rem;\n\tmargin: 1rem auto;\n\tbackground: white;\n}\n\n.flagg-control {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n\tmargin-left: 0.5rem;\n\tjustify-content: flex-end;\n}\n\n.flagg-snowflake-icon {\n\tcolor: deepskyblue;\n}\n\n.flagg-flag .flagg-flag-icon, .flagg-flag .flagg-snowflake-icon {\n\ttransition: 0.2s;\n\topacity: 0;\n\ttransform: scale(0);\t\n\tposition: absolute;\n\tleft: 0.6rem;\n}\n\n.flagg-flag--override .flagg-flag-icon, .flagg-flag--frozen .flagg-snowflake-icon {\n\topacity: 1;\n\ttransform: scale(0.85);\n}\n\n.flagg-control--override .flagg-flag-icon:hover, .flagg-control--override .flagg-snowflake-icon:hover {\n\tcursor: pointer;\n\t\n}\n\n.flagg-zero {\n\ttext-align: center;\n\tfont-size: 2rem;\n\tpadding: 4rem;\n\topacity: 0.5;\n}\n\n.flagg-category__name {\n\ttext-transform: capitalize;\n\tfont-size: 1.75rem;\n\tfont-weight: bold;\n\tmargin-bottom: 1rem;\n}\n\n.flagg-button {\n\t-webkit-appearance: none;\n\tbackground: none;\n\tcolor: white;\n\tborder: 0;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\tfont-weight: 500;\n\tletter-spacing: 1px;\n\theight: 2.25rem;\n\tmargin: 0 0.5rem;\n\tcursor: pointer;\n\tborder-radius: 0.1875rem;\n}\n\n.flagg-button:hover, .flagg-button:focus {\n\tbackground-color: rgba(255,255,255, 0.1);\n}\n\n.flagg-flag {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-size: 1.25rem;\n\tmargin: 0 -1rem 0 -2.5rem;\n\tpadding: 0.75rem 1rem 0.75rem 2.5rem;\n\tcursor: pointer;\n\tposition: relative;\n}\n\n.flagg-flag > div:first-child {\n\tmax-width: calc(100% - 7rem);\n}\n\n.flagg-flag:hover {\n\tbackground-color: rgba(0,0,0,.05);\n}\n\n.flagg-flag__category-name {\n\topacity: 0.7;\n}\n\n.flagg-flag__name {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.flagg-flag__flag-name {\n\tfont-weight: 500;\n}\n\n.flagg-flag__description {\n\tfont-size: 0.875rem;\n\topacity: 0.7;\n\tmargin-top: 0.25rem;\n}\n\n.flagg-select {\n\tfont-size: 1.25rem;\n}\n\n.flagg-input {\n\tfont-size: 1.25rem;\n\ttext-align: center;\n\tline-height: 2rem;\n\tpadding: 0 0.5rem;\n\tborder-radius: 0.1875rem;\n\tborder: 1px solid rgba(0,0,0,.2);\n\twidth: 100%;\n}\n\n.flagg-toggle {\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tappearance: none;\n\twidth: 3.875rem;\n\theight: 2rem;\n\tdisplay: inline-block;\n\tposition: relative;\n\tborder-radius: 3.125rem;\n\toverflow: hidden;\n\toutline: none;\n\tborder: none;\n\tcursor: pointer;\n\tbackground-color: #A0A0A0;\n\ttransition: background-color ease 0.3s;\n\t\n}\n\n.flagg-toggle:before {\n\tcontent: \"on off\";\n\tdisplay: block;\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.75rem;\n\theight: 1.75rem;\n\tbackground: #fff;\n\tleft: 2px;\n\ttop: 2px;\n\tborder-radius: 50%;\n\tfont: 0.625rem/1.75rem Helvetica;\n\ttext-transform: uppercase;\n\tfont-weight: bold;\n\ttext-indent: -1.375rem;\n\tword-spacing: 2.3125rem;\n\tcolor: #fff;\n\twhite-space: nowrap;\n\tbox-shadow: 0 1px 2px rgba(0,0,0,0.2);\n\ttransition: all cubic-bezier(0.3, 1.5, 0.7, 1) 0.3s;\n}\n\n.flagg-toggle:checked {\n\tbackground-color: limegreen;\n}\n\n.flagg-toggle:checked:before {\n\tleft: 2rem;\n}\n\n.flagg-footer {\n\ttext-align: center;\n\tfont-size: 0.875rem;\n\tpadding-top: 1rem;\n}\n`;\n","import React, { useContext, useState } from 'react';\nimport { flagg } from '../core';\nimport { FlagDefinitions, FlagDefinition } from '../core';\nimport { FlaggContext } from './context';\nimport styles from './admin-styles';\n\nexport function FlaggAdmin({ onDone }: { onDone?: () => void }) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const { featureFlags: ff } = useContext(FlaggContext);\n  const definitions = getSortedDefinitions(\n    ff.getDefinitions(),\n    searchTerm.toLowerCase().trim()\n  );\n\n  const shareUrl = `${window.location.href}?ff=${encodeURIComponent(\n    JSON.stringify(ff.getAllOverridden())\n  )}`;\n\n  const reset = () => {\n    Object.entries(ff.getDefinitions()).forEach(([flagName, flagDef]) => {\n      ff.set(flagName, ff.getDefault(flagName));\n    });\n  };\n\n  return (\n    <div className=\"flagg\">\n      <style>{styles}</style>\n      <div className=\"flagg-header\">\n        <div className=\"flagg-header__lead\">\n          <span className=\"flagg-header__name\">\n            <Icon icon=\"flag\" />\n            <span>Flagg</span>\n          </span>\n        </div>\n\n        <div className=\"flagg-header__end\">\n          <button\n            className=\"flagg-button\"\n            onClick={() => navigator.clipboard.writeText(shareUrl)}\n          >\n            <Icon icon=\"link\" />\n          </button>\n          <button className=\"flagg-button\" onClick={reset}>\n            <Icon icon=\"refresh\" />\n          </button>\n          {onDone && (\n            <button className=\"flagg-button\" onClick={onDone}>\n              <Icon icon=\"checkCircle\" />\n            </button>\n          )}\n        </div>\n      </div>\n      <div className=\"flagg-categories\">\n        <div className=\"flagg-category flagg-category--search\">\n          <Icon icon=\"search\" />\n          <input\n            value={searchTerm}\n            onChange={evt => setSearchTerm(evt.currentTarget.value)}\n            className=\"flagg-search\"\n            type=\"search\"\n            placeholder=\"Search Feature Flags\"\n          />\n        </div>\n        {!definitions.length && (\n          <div className=\"flagg-zero\">Nothing to see here...</div>\n        )}\n        {definitions.map(({ categoryName, values }) => {\n          return (\n            <div key={categoryName} className=\"flagg-category\">\n              <div className=\"flagg-category__name\">\n                {categoryName || 'Flags'}\n              </div>\n              {values.map(({ flagName, name, definition }) => (\n                <Flag\n                  key={flagName}\n                  name={name}\n                  categoryName={categoryName}\n                  flagName={flagName}\n                  definition={definition}\n                  ff={ff}\n                />\n              ))}\n            </div>\n          );\n        })}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nfunction Footer() {\n  return (\n    <div className=\"flagg-footer\">\n      Made with ❤️ in Sunny FL &middot;{' '}\n      <a href=\"https://github.com/jamesmfriedman/flagg\">Visit Github</a>\n    </div>\n  );\n}\n\nconst iconPaths = {\n  flag: 'M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z',\n  search:\n    'M7,0 C3.1458514,0 0,3.1458514 0,7 C0,10.854149 3.1458514,14 7,14 C8.747998,14 10.345009,13.348024 11.574219,12.28125 L12,12.707031 L12,14 L18,20 L20,18 L14,12 L12.707031,12 L12.28125,11.574219 C13.348024,10.345009 14,8.747998 14,7 C14,3.1458514 10.854149,0 7,0 Z M7,2 C9.773268,2 12,4.2267316 12,7 C12,9.773268 9.773268,12 7,12 C4.2267316,12 2,9.773268 2,7 C2,4.2267316 4.2267316,2 7,2 Z',\n  refresh:\n    'M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z',\n  checkCircle:\n    'M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z',\n  link:\n    'M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z',\n  snowflake:\n    'M20.79,13.95L18.46,14.57L16.46,13.44V10.56L18.46,9.43L20.79,10.05L21.31,8.12L19.54,7.65L20,5.88L18.07,5.36L17.45,7.69L15.45,8.82L13,7.38V5.12L14.71,3.41L13.29,2L12,3.29L10.71,2L9.29,3.41L11,5.12V7.38L8.5,8.82L6.5,7.69L5.92,5.36L4,5.88L4.47,7.65L2.7,8.12L3.22,10.05L5.55,9.43L7.55,10.56V13.45L5.55,14.58L3.22,13.96L2.7,15.89L4.47,16.36L4,18.12L5.93,18.64L6.55,16.31L8.55,15.18L11,16.62V18.88L9.29,20.59L10.71,22L12,20.71L13.29,22L14.7,20.59L13,18.88V16.62L15.5,15.17L17.5,16.3L18.12,18.63L20,18.12L19.53,16.35L21.3,15.88L20.79,13.95M9.5,10.56L12,9.11L14.5,10.56V13.44L12,14.89L9.5,13.44V10.56Z'\n};\n\nfunction Icon({\n  icon,\n  ...props\n}: { icon: keyof typeof iconPaths } & React.HTMLProps<any>) {\n  const path = iconPaths[icon];\n  return (\n    <svg\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n      className={`flagg-${icon}-icon`}\n    >\n      <path fill=\"currentColor\" d={path} />\n    </svg>\n  );\n}\n\nfunction Flag({\n  definition,\n  flagName,\n  name,\n  ff,\n  categoryName\n}: {\n  flagName: string;\n  definition: FlagDefinition;\n  name: string;\n  ff: ReturnType<typeof flagg>;\n  categoryName: string;\n}) {\n  let control = null;\n  const controlType = getControlType(definition);\n  const isOverride = ff.isOverridden(flagName);\n  const isFrozen = ff.isFrozen(flagName);\n\n  switch (controlType) {\n    case 'select':\n      control = (\n        <Select\n          value={ff.get(flagName) as string}\n          options={definition.options as string[]}\n          defaultValue={definition.default as string}\n          onChange={evt => ff.set(flagName, evt.currentTarget.value || null)}\n        />\n      );\n\n      break;\n    case 'input':\n      control = (\n        <Input\n          value={ff.get(flagName) as string}\n          onChange={evt => ff.set(flagName, evt.currentTarget.value || null)}\n        />\n      );\n      break;\n    case 'toggle':\n    default:\n      control = <Toggle checked={!!ff.get(flagName)} onChange={() => {}} />;\n  }\n\n  return (\n    <div\n      key={flagName}\n      className={[\n        'flagg-flag',\n        isOverride && 'flagg-flag--override',\n        isFrozen && 'flagg-flag--frozen'\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      onClick={\n        controlType === 'toggle'\n          ? () => ff.set(flagName, !ff.get(flagName))\n          : undefined\n      }\n    >\n      {isFrozen && <Icon icon=\"snowflake\" />}\n      {!isFrozen && (\n        <Icon\n          icon=\"flag\"\n          onClick={evt => {\n            evt.stopPropagation();\n            ff.set(flagName, ff.getDefault(flagName));\n          }}\n        />\n      )}\n\n      <div>\n        <div className=\"flagg-flag__name\">\n          <span className=\"flagg-flag__flag-name\">{name}</span>\n        </div>\n        {!!definition.description && (\n          <div className=\"flagg-flag__description\">\n            {definition.description}\n          </div>\n        )}\n      </div>\n      <div\n        title={flagName + ' - Default: ' + String(ff.getDefault(flagName))}\n        className={['flagg-control'].filter(Boolean).join(' ')}\n      >\n        {control}\n      </div>\n    </div>\n  );\n}\n\nfunction Toggle({ ...props }: React.HTMLProps<HTMLInputElement>) {\n  return <input type=\"checkbox\" className=\"flagg-toggle\" {...props} />;\n}\n\nfunction Input({ ...props }: React.HTMLProps<HTMLInputElement>) {\n  return <input type=\"text\" className=\"flagg-input\" {...props} />;\n}\n\nfunction Select({\n  options,\n  defaultValue,\n  value,\n  ...props\n}: { options: string[]; defaultValue?: string } & React.HTMLProps<\n  HTMLSelectElement\n>) {\n  return (\n    <select className=\"flagg-select\" value={value || ''} {...props}>\n      {!defaultValue && <option value={''}>-- OFF --</option>}\n      {options.map(option => (\n        <option key={option} value={option}>\n          {option}\n        </option>\n      ))}\n    </select>\n  );\n}\n\nconst getControlType = (definition: FlagDefinition) => {\n  if (definition.options) {\n    return 'select';\n  }\n\n  if (typeof definition.default === 'string') {\n    return 'input';\n  }\n\n  return 'toggle';\n};\n\nconst getSortedDefinitions = (\n  definitions: FlagDefinitions,\n  searchTerm: string\n) => {\n  const defsMap = Object.entries(definitions).reduce<{\n    [key: string]: Array<{\n      name: string;\n      flagName: string;\n      definition: FlagDefinition;\n    }>;\n  }>((acc, [flagName, flagDef]) => {\n    const parts = flagName.split('.', 2);\n    const category = parts.length > 1 ? parts[0] : '';\n    const name = parts.pop() as string;\n    acc[category] = acc[category] || [];\n\n    const shouldAdd =\n      !searchTerm ||\n      flagName.toLowerCase().includes(searchTerm) ||\n      (flagDef.description || '').toLowerCase().includes(searchTerm);\n\n    shouldAdd &&\n      acc[category].push({\n        flagName,\n        name,\n        definition: flagDef\n      });\n    return acc;\n  }, {});\n\n  return Object.entries(defsMap)\n    .filter(([, values]) => values.length)\n    .map(([categoryName, values]) => {\n      return {\n        categoryName,\n        values: values.sort((a, b) => (a.name > b.name ? 1 : -1))\n      };\n    })\n    .sort((a, b) => (a.categoryName > b.categoryName ? 1 : -1));\n};\n","import React, { useState, useEffect } from 'react';\nimport { flagg } from '../core';\nimport { FlaggContext } from './context';\n\nexport function FlaggProvider<FF extends ReturnType<typeof flagg> | any>({\n  children,\n  featureFlags\n}: {\n  children: React.ReactNode;\n  featureFlags: FF;\n}) {\n  const [iteration, setIteration] = useState(0);\n  const ff = (featureFlags as unknown) as ReturnType<typeof flagg>;\n\n  useEffect(() => {\n    const originalSet = featureFlags.set;\n\n    ff.set = (...args) => {\n      const rVal = originalSet(...args);\n      setIteration(val => val + 1);\n      return rVal;\n    };\n  }, []);\n\n  return (\n    <FlaggContext.Provider value={{ featureFlags: ff, iteration }}>\n      {children}\n    </FlaggContext.Provider>\n  );\n}\n","import { useContext } from 'react';\nimport { FlaggContext } from './context';\nimport { FlagValue } from '../core';\n\n/****************************************************************\n * Hooks\n ****************************************************************/\n\nexport const useFeatureFlag = <T extends FlagValue>(\n  flagName: string\n): [T, (value: FlagValue) => void] => {\n  const { featureFlags } = useContext(FlaggContext);\n  return [\n    (featureFlags.get(flagName) as unknown) as T,\n    (value: FlagValue) => featureFlags.set(flagName, value)\n  ];\n};\n","export * from './admin';\nexport * from './context';\nexport * from './provider';\nexport * from './hooks';\n"],"sourceRoot":""}